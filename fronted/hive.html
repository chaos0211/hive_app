import React, { useState, useEffect } from 'react';
import {
  BarChart3,
  Users,
  TrendingUp,
  Database,
  Search,
  Bell,
  Sun,
  Moon,
  User,
  LogOut,
  Settings,
  Menu,
  Home,
  List,
  GitCompare,
  PieChart,
  MapPin,
  Hash,
  Plus,
  History,
  Play,
  CheckCircle,
  AlertCircle,
  Clock,
  Download,
  Eye,
  Edit,
  Trash2
} from 'lucide-react';
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart as RechartsPieChart, Cell, BarChart, Bar } from 'recharts';

const HuaweiAppAnalyticsPlatform = () => {
  const [currentRoute, setCurrentRoute] = useState('/cockpit');
  const [isDarkTheme, setIsDarkTheme] = useState(false);
  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);
  const [user] = useState({ name: '张三', avatar: '/api/placeholder/32/32' });

  // 模拟数据
  const kpiData = [
    { title: '昨日采集量', value: '1,234,567', trend: '+12.5%', color: 'text-blue-600' },
    { title: '有效分区数', value: '856', trend: '+5.2%', color: 'text-green-600' },
    { title: 'Top1应用', value: '微信', trend: '连续7天', color: 'text-purple-600' },
    { title: 'Top类目', value: '社交通讯', trend: '+3位', color: 'text-orange-600' },
    { title: '预测覆盖率', value: '89.2%', trend: '+2.1%', color: 'text-indigo-600' },
    { title: '任务成功率', value: '96.8%', trend: '+0.5%', color: 'text-emerald-600' }
  ];

  const trendData = [
    { date: '01-15', 微信: 1, QQ: 3, 支付宝: 5, 淘宝: 2 },
    { date: '01-16', 微信: 1, QQ: 2, 支付宝: 4, 淘宝: 3 },
    { date: '01-17', 微信: 1, QQ: 4, 支付宝: 3, 淘宝: 2 },
    { date: '01-18', 微信: 1, QQ: 3, 支付宝: 5, 淘宝: 4 },
    { date: '01-19', 微信: 1, QQ: 2, 支付宝: 4, 淘宝: 3 },
    { date: '01-20', 微信: 1, QQ: 3, 支付宝: 6, 淘宝: 2 },
    { date: '01-21', 微信: 1, QQ: 2, 支付宝: 5, 淘宝: 3 }
  ];

  const categoryData = [
    { name: '社交通讯', value: 35, color: '#8884d8' },
    { name: '生活服务', value: 25, color: '#82ca9d' },
    { name: '游戏娱乐', value: 20, color: '#ffc658' },
    { name: '办公学习', value: 12, color: '#ff7300' },
    { name: '其他', value: 8, color: '#00C49F' }
  ];

  const appListData = [
    { rank: 1, deltaRank: 0, appName: '微信', appId: 'com.tencent.wechat', category: '社交通讯', rating: 4.8, installs: '10亿+', publisher: '腾讯', region: '中国', date: '2025-01-21' },
    { rank: 2, deltaRank: 1, appName: '淘宝', appId: 'com.taobao.taobao', category: '购物', rating: 4.6, installs: '5亿+', publisher: '阿里巴巴', region: '中国', date: '2025-01-21' },
    { rank: 3, deltaRank: -1, appName: 'QQ', appId: 'com.tencent.mobileqq', category: '社交通讯', rating: 4.5, installs: '8亿+', publisher: '腾讯', region: '中国', date: '2025-01-21' },
    { rank: 4, deltaRank: 2, appName: '支付宝', appId: 'com.eg.android.AlipayGphone', category: '金融', rating: 4.7, installs: '5亿+', publisher: '蚂蚁集团', region: '中国', date: '2025-01-21' },
    { rank: 5, deltaRank: -1, appName: '抖音', appId: 'com.ss.android.ugc.aweme', category: '娱乐', rating: 4.4, installs: '10亿+', publisher: '字节跳动', region: '中国', date: '2025-01-21' }
  ];

  const forecastData = [
    { id: 'F001', object: '微信', metric: '排名', model: 'Prophet', period: 7, creator: '张三', startTime: '2025-01-21 10:30', duration: '2分钟', status: 'success' },
    { id: 'F002', object: '社交通讯', metric: '下载量', model: 'LightGBM', period: 14, creator: '李四', startTime: '2025-01-21 09:15', duration: '5分钟', status: 'running' },
    { id: 'F003', object: '华东地区', metric: '热度', model: 'Auto', period: 30, creator: '王五', startTime: '2025-01-20 16:45', duration: '3分钟', status: 'failed' }
  ];

  const hiveJobsData = [
    { id: 'J001', name: '榜单数据采集', type: '采集', cron: '0 2 * * *', lastRun: '2025-01-21 02:00', duration: '15分钟', status: 'success', trigger: '系统' },
    { id: 'J002', name: '数据清洗处理', type: '清洗', cron: '0 3 * * *', lastRun: '2025-01-21 03:00', duration: '8分钟', status: 'success', trigger: '张三' },
    { id: 'J003', name: '聚合统计计算', type: '聚合', cron: '0 4 * * *', lastRun: '2025-01-21 04:00', duration: '12分钟', status: 'running', trigger: '系统' }
  ];

  const navigationItems = [
    { path: '/cockpit', icon: Home, label: '驾驶舱' },
    {
      label: '华为应用榜单',
      icon: BarChart3,
      children: [
        { path: '/rank/list', icon: List, label: '榜单列表' },
        { path: '/rank/compare', icon: GitCompare, label: '应用对比' }
      ]
    },
    {
      label: '数据分析',
      icon: PieChart,
      children: [
        { path: '/analysis/overview', icon: BarChart3, label: '总览' },
        { path: '/analysis/category', icon: PieChart, label: '分类维度' },
        { path: '/analysis/region', icon: MapPin, label: '地区维度' },
        { path: '/analysis/keywords', icon: Hash, label: '关键词' }
      ]
    },
    {
      label: '数据预测',
      icon: TrendingUp,
      children: [
        { path: '/forecast/create', icon: Plus, label: '新建预测' },
        { path: '/forecast/list', icon: History, label: '预测记录' }
      ]
    },
    {
      label: 'Hive数据',
      icon: Database,
      children: [
        { path: '/hive/jobs', icon: Play, label: '任务中心' },
        { path: '/hive/quality', icon: CheckCircle, label: '数据质量' },
        { path: '/hive/partitions', icon: Database, label: '分区预览' }
      ]
    },
    { path: '/users', icon: Users, label: '用户管理' }
  ];

  const getStatusIcon = (status) => {
    switch (status) {
      case 'success': return <CheckCircle className="w-4 h-4 text-green-500" />;
      case 'failed': return <AlertCircle className="w-4 h-4 text-red-500" />;
      case 'running': return <Clock className="w-4 h-4 text-blue-500" />;
      default: return <Clock className="w-4 h-4 text-gray-500" />;
    }
  };

  const renderNavItem = (item, depth = 0) => {
    const Icon = item.icon;
    const isActive = currentRoute === item.path;
    const hasChildren = item.children && item.children.length > 0;

    return (
      <div key={item.path || item.label}>
        <div
          className={`flex items-center px-4 py-2 text-sm cursor-pointer transition-colors ${
            isActive
              ? 'bg-blue-50 text-blue-600 border-r-2 border-blue-600'
              : 'text-gray-600 hover:bg-gray-50'
          } ${depth > 0 ? 'pl-8' : ''}`}
          onClick={() => item.path && setCurrentRoute(item.path)}
        >
          <Icon className="w-4 h-4 mr-3" />
          {!sidebarCollapsed && (
            <span className={hasChildren && !item.path ? 'font-medium' : ''}>{item.label}</span>
          )}
        </div>
        {hasChildren && !sidebarCollapsed && (
          <div>
            {item.children.map(child => renderNavItem(child, depth + 1))}
          </div>
        )}
      </div>
    );
  };

  const renderContent = () => {
    switch (currentRoute) {
      case '/cockpit':
        return (
          <div className="space-y-6">
            <div className="flex flex-wrap gap-4">
              <select className="px-3 py-2 border border-gray-300 rounded-lg">
                <option>最近7天</option>
                <option>最近30天</option>
              </select>
              <select className="px-3 py-2 border border-gray-300 rounded-lg">
                <option>全部地区</option>
                <option>中国大陆</option>
              </select>
              <select className="px-3 py-2 border border-gray-300 rounded-lg">
                <option>全部分类</option>
                <option>社交通讯</option>
              </select>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              {kpiData.map((kpi, index) => (
                <div key={index} className="bg-white p-6 rounded-lg shadow-sm border">
                  <div className="flex items-center justify-between">
                    <div>
                      <p className="text-sm text-gray-600">{kpi.title}</p>
                      <p className="text-2xl font-bold mt-1">{kpi.value}</p>
                      <p className={`text-sm mt-1 ${kpi.color}`}>{kpi.trend}</p>
                    </div>
                  </div>
                </div>
              ))}
            </div>

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <div className="bg-white p-6 rounded-lg shadow-sm border">
                <h3 className="text-lg font-semibold mb-4">Top应用排名趋势</h3>
                <ResponsiveContainer width="100%" height={300}>
                  <LineChart data={trendData}>
                    <CartesianGrid strokeDasharray="3 3" />
                    <XAxis dataKey="date" />
                    <YAxis />
                    <Tooltip />
                    <Line type="monotone" dataKey="微信" stroke="#8884d8" strokeWidth={2} />
                    <Line type="monotone" dataKey="QQ" stroke="#82ca9d" strokeWidth={2} />
                    <Line type="monotone" dataKey="支付宝" stroke="#ffc658" strokeWidth={2} />
                    <Line type="monotone" dataKey="淘宝" stroke="#ff7300" strokeWidth={2} />
                  </LineChart>
                </ResponsiveContainer>
              </div>

              <div className="bg-white p-6 rounded-lg shadow-sm border">
                <h3 className="text-lg font-semibold mb-4">分类占比</h3>
                <ResponsiveContainer width="100%" height={300}>
                  <RechartsPieChart>
                    <Tooltip />
                    <RechartsPieChart data={categoryData} cx="50%" cy="50%" outerRadius={80}>
                      {categoryData.map((entry, index) => (
                        <Cell key={`cell-${index}`} fill={entry.color} />
                      ))}
                    </RechartsPieChart>
                  </RechartsPieChart>
                </ResponsiveContainer>
              </div>
            </div>
          </div>
        );

      case '/rank/list':
        return (
          <div className="space-y-6">
            <div className="bg-white p-6 rounded-lg shadow-sm border">
              <div className="flex flex-wrap gap-4 mb-4">
                <input type="date" className="px-3 py-2 border border-gray-300 rounded-lg" />
                <select className="px-3 py-2 border border-gray-300 rounded-lg">
                  <option>免费榜</option>
                  <option>付费榜</option>
                  <option>畅销榜</option>
                </select>
                <select className="px-3 py-2 border border-gray-300 rounded-lg">
                  <option>全部分类</option>
                  <option>社交通讯</option>
                </select>
                <input type="text" placeholder="搜索应用..." className="px-3 py-2 border border-gray-300 rounded-lg" />
                <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">搜索</button>
                <button className="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">导出CSV</button>
              </div>
            </div>

            <div className="bg-white rounded-lg shadow-sm border">
              <div className="overflow-x-auto">
                <table className="w-full">
                  <thead className="bg-gray-50">
                    <tr>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">排名</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">涨跌</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">应用名</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">分类</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">评分</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">安装量</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">发布商</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                    </tr>
                  </thead>
                  <tbody className="bg-white divide-y divide-gray-200">
                    {appListData.map((app) => (
                      <tr key={app.rank} className="hover:bg-gray-50">
                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#{app.rank}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm">
                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${
                            app.deltaRank > 0 ? 'bg-green-100 text-green-800' :
                            app.deltaRank < 0 ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-800'
                          }`}>
                            {app.deltaRank > 0 ? '+' : ''}{app.deltaRank}
                          </span>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{app.appName}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{app.category}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{app.rating}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{app.installs}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{app.publisher}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                          <button className="text-blue-600 hover:text-blue-900 mr-3">
                            <Eye className="w-4 h-4" />
                          </button>
                          <button className="text-green-600 hover:text-green-900">
                            <GitCompare className="w-4 h-4" />
                          </button>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        );

      case '/forecast/list':
        return (
          <div className="space-y-6">
            <div className="flex justify-between items-center">
              <h2 className="text-2xl font-bold">预测记录</h2>
              <button
                className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
                onClick={() => setCurrentRoute('/forecast/create')}
              >
                <Plus className="w-4 h-4 inline-block mr-2" />
                新建预测
              </button>
            </div>

            <div className="bg-white rounded-lg shadow-sm border">
              <div className="overflow-x-auto">
                <table className="w-full">
                  <thead className="bg-gray-50">
                    <tr>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">任务ID</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">预测对象</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">指标</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">模型</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">周期</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">发起人</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">开始时间</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">耗时</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">状态</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                    </tr>
                  </thead>
                  <tbody className="bg-white divide-y divide-gray-200">
                    {forecastData.map((forecast) => (
                      <tr key={forecast.id} className="hover:bg-gray-50">
                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{forecast.id}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{forecast.object}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{forecast.metric}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{forecast.model}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{forecast.period}天</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{forecast.creator}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{forecast.startTime}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{forecast.duration}</td>
                        <td className="px-6 py-4 whitespace-nowrap">
                          <div className="flex items-center">
                            {getStatusIcon(forecast.status)}
                            <span className="ml-2 text-sm text-gray-500 capitalize">{forecast.status}</span>
                          </div>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                          <button className="text-blue-600 hover:text-blue-900 mr-3">
                            <Eye className="w-4 h-4" />
                          </button>
                          <button className="text-green-600 hover:text-green-900 mr-3">
                            <Play className="w-4 h-4" />
                          </button>
                          <button className="text-red-600 hover:text-red-900">
                            <Trash2 className="w-4 h-4" />
                          </button>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        );

      case '/hive/jobs':
        return (
          <div className="space-y-6">
            <div className="flex justify-between items-center">
              <h2 className="text-2xl font-bold">任务中心</h2>
              <div className="flex gap-2">
                <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                  <Plus className="w-4 h-4 inline-block mr-2" />
                  新建任务
                </button>
                <button className="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                  <Play className="w-4 h-4 inline-block mr-2" />
                  批量运行
                </button>
              </div>
            </div>

            <div className="bg-white rounded-lg shadow-sm border">
              <div className="overflow-x-auto">
                <table className="w-full">
                  <thead className="bg-gray-50">
                    <tr>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">任务ID</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">任务名</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">类型</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cron</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">上次运行</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">耗时</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">状态</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">触发人</th>
                      <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                    </tr>
                  </thead>
                  <tbody className="bg-white divide-y divide-gray-200">
                    {hiveJobsData.map((job) => (
                      <tr key={job.id} className="hover:bg-gray-50">
                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{job.id}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{job.name}</td>
                        <td className="px-6 py-4 whitespace-nowrap">
                          <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                            {job.type}
                          </span>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono">{job.cron}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{job.lastRun}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{job.duration}</td>
                        <td className="px-6 py-4 whitespace-nowrap">
                          <div className="flex items-center">
                            {getStatusIcon(job.status)}
                            <span className="ml-2 text-sm text-gray-500 capitalize">{job.status}</span>
                          </div>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{job.trigger}</td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                          <button className="text-blue-600 hover:text-blue-900 mr-3">
                            <Eye className="w-4 h-4" />
                          </button>
                          <button className="text-green-600 hover:text-green-900 mr-3">
                            <Edit className="w-4 h-4" />
                          </button>
                          <button className="text-red-600 hover:text-red-900">
                            <Trash2 className="w-4 h-4" />
                          </button>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        );

      default:
        return (
          <div className="text-center py-20">
            <h2 className="text-2xl font-bold text-gray-900 mb-4">页面开发中</h2>
            <p className="text-gray-600">当前路由: {currentRoute}</p>
          </div>
        );
    }
  };

  return (
    <div className={`min-h-screen ${isDarkTheme ? 'dark bg-gray-900' : 'bg-gray-50'}`}>
      {/* 顶栏 */}
      <header className="bg-white shadow-sm border-b border-gray-200 px-6 py-4">
        <div className="flex items-center justify-between">
          <div className="flex items-center">
            <button
              onClick={() => setSidebarCollapsed(!sidebarCollapsed)}
              className="p-2 rounded-lg hover:bg-gray-100 mr-4"
            >
              <Menu className="w-5 h-5" />
            </button>
            <h1 className="text-xl font-bold text-gray-900">华为应用榜单数据分析平台</h1>
          </div>

          <div className="flex items-center space-x-4">
            <div className="relative">
              <Search className="w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" />
              <input
                type="text"
                placeholder="全局搜索..."
                className="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              />
            </div>

            <button className="relative p-2 rounded-lg hover:bg-gray-100">
              <Bell className="w-5 h-5" />
              <span className="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"></span>
            </button>

            <button
              onClick={() => setIsDarkTheme(!isDarkTheme)}
              className="p-2 rounded-lg hover:bg-gray-100"
            >
              {isDarkTheme ? <Sun className="w-5 h-5" /> : <Moon className="w-5 h-5" />}
            </button>

            <div className="relative group">
              <button className="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100">
                <img src={user.avatar} alt={user.name} className="w-8 h-8 rounded-full" />
                <span className="text-sm font-medium">{user.name}</span>
              </button>
              <div className="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
                <div className="py-1">
                  <button className="w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center">
                    <Settings className="w-4 h-4 mr-2" />
                    个人中心
                  </button>
                  <button className="w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center">
                    <LogOut className="w-4 h-4 mr-2" />
                    退出登录
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>

      <div className="flex">
        {/* 侧栏 */}
        <aside className={`bg-white shadow-sm border-r border-gray-200 transition-all duration-300 ${
          sidebarCollapsed ? 'w-16' : 'w-64'
        }`}>
          <nav className="mt-4">
            {navigationItems.map(item => renderNavItem(item))}
          </nav>
        </aside>

        {/* 主内容区 */}
        <main className="flex-1 p-6">
          {renderContent()}
        </main>
      </div>
    </div>
  );
};

export default HuaweiAppAnalyticsPlatform;