<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>手机应用榜单数据分析平台</title>
    <script src="https://res.gemcoder.com/js/reload.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script>
      // Tailwind配置
              tailwind.config = {
                  darkMode: 'class',
                  theme: {
                      extend: {
                          colors: {
                              primary: '#165DFF',
                              secondary: '#0FC6C2',
                              success: '#00B42A',
                              warning: '#FF7D00',
                              danger: '#F53F3F',
                              info: '#86909C',
                              dark: {
                                  100: '#1D2129',
                                  200: '#141414',
                                  300: '#0A0A0A'
                              },
                              light: {
                                  100: '#F2F3F5',
                                  200: '#F7F8FA',
                                  300: '#FFFFFF'
                              }
                          },
                          fontFamily: {
                              inter: ['Inter', 'system-ui', 'sans-serif'],
                          },
                          boxShadow: {
                              'card': '0 2px 14px 0 rgba(0, 0, 0, 0.06)',
                              'dropdown': '0 4px 16px 0 rgba(0, 0, 0, 0.12)',
                          }
                      },
                  }
              }
    </script>
    <style type="text/tailwindcss">
      @layer utilities {
          .content-auto {
              content-visibility: auto;
          }
          .scrollbar-hide {
              -ms-overflow-style: none;
              scrollbar-width: none;
          }
          .scrollbar-hide::-webkit-scrollbar {
              display: none;
          }
          .transition-bg {
              transition: background-color 0.3s ease;
          }
          .transition-all-300 {
              transition: all 0.3s ease;
          }
          .text-shadow {
              text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
          }
          .card-hover {
              @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
          }
      }
    </style>
  </head>
  <body
    class="font-inter bg-light-200 text-dark-100 transition-all duration-300 min-h-screen flex flex-col"
  >
    <!-- 登录页面 -->
    <div
      id="login-page"
      class="flex items-center justify-center min-h-screen bg-gradient-to-br from-primary/5 to-secondary/5 p-4"
    >
      <div class="w-full max-w-md">
        <div class="bg-white rounded-xl shadow-card overflow-hidden">
          <!-- 登录卡片头部 -->
          <div class="p-6 text-center border-b border-light-100">
            <div
              class="w-16 h-16 mx-auto mb-4 rounded-lg bg-primary/10 flex items-center justify-center"
            >
              <i class="fas fa-chart-line text-2xl text-primary"> </i>
            </div>
            <h1
              class="text-[clamp(1.5rem,3vw,2rem)] font-bold text-dark-100 mb-1"
            >
              手机应用榜单数据分析平台
            </h1>
            <p class="text-info text-sm">登录您的账户以继续</p>
          </div>
          <!-- 登录表单 -->
          <div class="p-6">
            <form id="login-form" class="space-y-4">
              <div class="space-y-2">
                <label
                  for="username"
                  class="block text-sm font-medium text-dark-100"
                >
                  用户名
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-user text-info"> </i>
                  </div>
                  <input
                    type="text"
                    id="username"
                    name="username"
                    required
                    class="block w-full pl-10 pr-3 py-2 border border-light-100 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200 outline-none"
                    placeholder="请输入用户名"
                  />
                </div>
              </div>
              <div class="space-y-2">
                <label
                  for="password"
                  class="block text-sm font-medium text-dark-100"
                >
                  密码
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-lock text-info"> </i>
                  </div>
                  <input
                    type="password"
                    id="password"
                    name="password"
                    required
                    class="block w-full pl-10 pr-10 py-2 border border-light-100 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200 outline-none"
                    placeholder="请输入密码"
                  />
                  <button
                    type="button"
                    id="toggle-password"
                    class="absolute inset-y-0 right-0 pr-3 flex items-center text-info hover:text-dark-100 transition-colors"
                  >
                    <i class="fas fa-eye-slash"> </i>
                  </button>
                </div>
              </div>
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <input
                    type="checkbox"
                    id="remember-me"
                    name="remember-me"
                    class="h-4 w-4 text-primary focus:ring-primary/30 border-light-100 rounded"
                  />
                  <label
                    for="remember-me"
                    class="ml-2 block text-sm text-dark-100"
                  >
                    记住我
                  </label>
                </div>
                <a
                  href="javascript:void(0);"
                  class="text-sm font-medium text-primary hover:text-primary/80 transition-colors"
                >
                  忘记密码?
                </a>
              </div>
              <button
                type="submit"
                class="w-full py-2 px-4 bg-primary text-white font-medium rounded-lg hover:bg-primary/90 focus:ring-4 focus:ring-primary/30 transition-all duration-200 flex items-center justify-center"
              >
                <span> 登录 </span>
                <i class="fas fa-arrow-right ml-2"> </i>
              </button>
            </form>
            <div class="mt-6 text-center">
              <p class="text-sm text-info">
                还没有账户?
                <a
                  href="javascript:void(0);"
                  id="goto-register"
                  class="font-medium text-primary hover:text-primary/80 transition-colors"
                >
                  立即注册
                </a>
              </p>
            </div>
          </div>
        </div>
        <!-- 底部信息 -->
        <div class="mt-6 text-center text-info text-xs">
          <p>© 2023 手机应用榜单数据分析平台. 保留所有权利.</p>
        </div>
      </div>
    </div>
    <!-- 注册页面 (默认隐藏) -->
    <div
      id="register-page"
      class="hidden flex items-center justify-center min-h-screen bg-gradient-to-br from-primary/5 to-secondary/5 p-4"
    >
      <div class="w-full max-w-md">
        <div class="bg-white rounded-xl shadow-card overflow-hidden">
          <!-- 注册卡片头部 -->
          <div class="p-6 text-center border-b border-light-100">
            <div
              class="w-16 h-16 mx-auto mb-4 rounded-lg bg-primary/10 flex items-center justify-center"
            >
              <i class="fas fa-user-plus text-2xl text-primary"> </i>
            </div>
            <h1 class="text-[clamp(1.5rem,3vw,2rem)] font-bold text-dark-100">
              创建账户
            </h1>
            <p class="text-info text-sm">填写以下信息注册新账户</p>
          </div>
          <!-- 注册表单 -->
          <div class="p-6">
            <form id="register-form" class="space-y-4">
              <div class="space-y-2">
                <label
                  for="reg-username"
                  class="block text-sm font-medium text-dark-100"
                >
                  用户名
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-user text-info"> </i>
                  </div>
                  <input
                    type="text"
                    id="reg-username"
                    name="username"
                    required
                    class="block w-full pl-10 pr-3 py-2 border border-light-100 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200 outline-none"
                    placeholder="请输入用户名"
                  />
                </div>
              </div>
              <div class="space-y-2">
                <label
                  for="reg-email"
                  class="block text-sm font-medium text-dark-100"
                >
                  邮箱
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-envelope text-info"> </i>
                  </div>
                  <input
                    type="email"
                    id="reg-email"
                    name="email"
                    required
                    class="block w-full pl-10 pr-3 py-2 border border-light-100 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200 outline-none"
                    placeholder="请输入邮箱"
                  />
                </div>
              </div>
              <div class="space-y-2">
                <label
                  for="reg-phone"
                  class="block text-sm font-medium text-dark-100"
                >
                  手机号 (可选)
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-phone text-info"> </i>
                  </div>
                  <input
                    type="tel"
                    id="reg-phone"
                    name="phone"
                    class="block w-full pl-10 pr-3 py-2 border border-light-100 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200 outline-none"
                    placeholder="请输入手机号"
                  />
                </div>
              </div>
              <div class="space-y-2">
                <label
                  for="reg-password"
                  class="block text-sm font-medium text-dark-100"
                >
                  密码
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-lock text-info"> </i>
                  </div>
                  <input
                    type="password"
                    id="reg-password"
                    name="password"
                    required
                    class="block w-full pl-10 pr-10 py-2 border border-light-100 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200 outline-none"
                    placeholder="请输入密码"
                  />
                  <button
                    type="button"
                    id="toggle-reg-password"
                    class="absolute inset-y-0 right-0 pr-3 flex items-center text-info hover:text-dark-100 transition-colors"
                  >
                    <i class="fas fa-eye-slash"> </i>
                  </button>
                </div>
                <p class="text-xs text-info">密码至少8位，包含字母和数字</p>
              </div>
              <div class="space-y-2">
                <label
                  for="reg-confirm-password"
                  class="block text-sm font-medium text-dark-100"
                >
                  确认密码
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-lock text-info"> </i>
                  </div>
                  <input
                    type="password"
                    id="reg-confirm-password"
                    name="confirm-password"
                    required
                    class="block w-full pl-10 pr-10 py-2 border border-light-100 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200 outline-none"
                    placeholder="请再次输入密码"
                  />
                  <button
                    type="button"
                    id="toggle-reg-confirm-password"
                    class="absolute inset-y-0 right-0 pr-3 flex items-center text-info hover:text-dark-100 transition-colors"
                  >
                    <i class="fas fa-eye-slash"> </i>
                  </button>
                </div>
              </div>
              <div class="flex items-start">
                <div class="flex items-center h-5">
                  <input
                    id="reg-agree"
                    name="agree"
                    type="checkbox"
                    required
                    class="h-4 w-4 text-primary focus:ring-primary/30 border-light-100 rounded"
                  />
                </div>
                <div class="ml-3 text-sm">
                  <label for="reg-agree" class="text-info">
                    我同意
                    <a
                      href="javascript:void(0);"
                      class="text-primary hover:text-primary/80 transition-colors"
                    >
                      服务条款
                    </a>
                    和
                    <a
                      href="javascript:void(0);"
                      class="text-primary hover:text-primary/80 transition-colors"
                    >
                      隐私政策
                    </a>
                  </label>
                </div>
              </div>
              <button
                type="submit"
                class="w-full py-2 px-4 bg-primary text-white font-medium rounded-lg hover:bg-primary/90 focus:ring-4 focus:ring-primary/30 transition-all duration-200 flex items-center justify-center"
              >
                <span> 注册 </span>
                <i class="fas fa-user-plus ml-2"> </i>
              </button>
            </form>
            <div class="mt-6 text-center">
              <p class="text-sm text-info">
                已有账户?
                <a
                  href="javascript:void(0);"
                  id="goto-login"
                  class="font-medium text-primary hover:text-primary/80 transition-colors"
                >
                  立即登录
                </a>
              </p>
            </div>
          </div>
        </div>
        <!-- 底部信息 -->
        <div class="mt-6 text-center text-info text-xs">
          <p>© 2023 手机应用榜单数据分析平台. 保留所有权利.</p>
        </div>
      </div>
    </div>
    <!-- 主应用布局 (默认隐藏) -->
    <div id="app-layout" class="hidden flex flex-col h-screen overflow-hidden">
      <!-- 顶部导航栏 -->
      <header
        class="bg-white dark:bg-dark-100 border-b border-light-100 dark:border-dark-200 h-16 flex items-center justify-between px-4 md:px-6 z-30 transition-all duration-300 shadow-sm"
      >
        <div class="flex items-center">
          <button
            id="sidebar-toggle"
            class="p-2 rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 transition-colors mr-2"
          >
            <i class="fas fa-bars text-dark-100 dark:text-white"> </i>
          </button>
          <div class="flex items-center">
            <div
              class="w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center mr-2"
            >
              <i class="fas fa-chart-line text-primary"> </i>
            </div>
            <h1
              class="text-lg font-semibold text-dark-100 dark:text-white hidden md:block"
            >
              手机应用榜单数据分析平台
            </h1>
          </div>
          <div class="hidden md:flex ml-8">
            <div class="relative">
              <div
                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
              >
                <i class="fas fa-search text-info"> </i>
              </div>
              <input
                type="text"
                placeholder="全局搜索..."
                class="pl-10 pr-4 py-2 rounded-lg bg-light-100 dark:bg-dark-200 border-0 focus:ring-2 focus:ring-primary/30 transition-all duration-200 outline-none text-sm w-64"
              />
            </div>
          </div>
        </div>
        <div class="flex items-center space-x-1 md:space-x-3">
          <!-- 消息通知 -->
          <div class="relative">
            <button
              id="notification-btn"
              class="p-2 rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 transition-colors relative"
            >
              <i class="fas fa-bell text-dark-100 dark:text-white"> </i>
              <span
                class="absolute top-1 right-1 w-2 h-2 bg-danger rounded-full"
              >
              </span>
            </button>
            <!-- 通知下拉菜单 -->
            <div
              id="notification-dropdown"
              class="hidden absolute right-0 mt-2 w-80 bg-white dark:bg-dark-100 rounded-lg shadow-dropdown border border-light-100 dark:border-dark-200 z-50"
            >
              <div
                class="p-3 border-b border-light-100 dark:border-dark-200 flex justify-between items-center"
              >
                <h3 class="font-medium text-dark-100 dark:text-white">通知</h3>
                <button
                  class="text-xs text-primary hover:text-primary/80 transition-colors"
                >
                  全部标为已读
                </button>
              </div>
              <div class="max-h-80 overflow-y-auto scrollbar-hide">
                <!-- 通知项 -->
                <div
                  class="p-3 border-b border-light-100 dark:border-dark-200 hover:bg-light-100 dark:hover:bg-dark-200 transition-colors cursor-pointer"
                >
                  <div class="flex">
                    <div
                      class="flex-shrink-0 w-8 h-8 rounded-full bg-danger/10 flex items-center justify-center text-danger"
                    >
                      <i class="fas fa-exclamation-circle"> </i>
                    </div>
                    <div class="ml-3 flex-1">
                      <p class="text-sm text-dark-100 dark:text-white">
                        数据采集任务失败
                      </p>
                      <p class="text-xs text-info mt-1">
                        应用榜单数据采集任务 #T20230615 执行失败，请检查
                      </p>
                      <p class="text-xs text-info mt-1">10分钟前</p>
                    </div>
                  </div>
                </div>
                <div
                  class="p-3 border-b border-light-100 dark:border-dark-200 hover:bg-light-100 dark:hover:bg-dark-200 transition-colors cursor-pointer"
                >
                  <div class="flex">
                    <div
                      class="flex-shrink-0 w-8 h-8 rounded-full bg-warning/10 flex items-center justify-center text-warning"
                    >
                      <i class="fas fa-exclamation-triangle"> </i>
                    </div>
                    <div class="ml-3 flex-1">
                      <p class="text-sm text-dark-100 dark:text-white">
                        数据延迟警告
                      </p>
                      <p class="text-xs text-info mt-1">
                        地区维度分析数据更新延迟超过30分钟
                      </p>
                      <p class="text-xs text-info mt-1">1小时前</p>
                    </div>
                  </div>
                </div>
                <div
                  class="p-3 border-b border-light-100 dark:border-dark-200 hover:bg-light-100 dark:hover:bg-dark-200 transition-colors cursor-pointer"
                >
                  <div class="flex">
                    <div
                      class="flex-shrink-0 w-8 h-8 rounded-full bg-success/10 flex items-center justify-center text-success"
                    >
                      <i class="fas fa-check-circle"> </i>
                    </div>
                    <div class="ml-3 flex-1">
                      <p class="text-sm text-dark-100 dark:text-white">
                        预测任务完成
                      </p>
                      <p class="text-xs text-info mt-1">
                        应用排名预测任务 #P20230615 已完成
                      </p>
                      <p class="text-xs text-info mt-1">3小时前</p>
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="p-3 text-center border-t border-light-100 dark:border-dark-200"
              >
                <button
                  class="text-sm text-primary hover:text-primary/80 transition-colors"
                >
                  查看全部通知
                </button>
              </div>
            </div>
          </div>
          <!-- 主题切换 -->
          <button
            id="theme-toggle"
            class="p-2 rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 transition-colors"
          >
            <i class="fas fa-moon text-dark-100 dark:text-white"> </i>
          </button>
          <!-- 用户菜单 -->
          <div class="relative">
            <button
              id="user-menu-btn"
              class="flex items-center space-x-2 p-1 rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 transition-colors"
            >
              <img
                src="https://design.gemcoder.com/staticResource/echoAiSystemImages/b4836a22bb7346e0969480410c37b5b5.png"
                alt="用户头像"
                class="w-8 h-8 rounded-full object-cover border border-light-100 dark:border-dark-200"
              />
              <span
                class="text-sm font-medium text-dark-100 dark:text-white hidden md:block"
              >
                管理员
              </span>
              <i class="fas fa-chevron-down text-xs text-info hidden md:block">
              </i>
            </button>
            <!-- 用户下拉菜单 -->
            <div
              id="user-dropdown"
              class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-dark-100 rounded-lg shadow-dropdown border border-light-100 dark:border-dark-200 z-50"
            >
              <div class="p-3 border-b border-light-100 dark:border-dark-200">
                <p class="font-medium text-dark-100 dark:text-white">管理员</p>
                <p class="text-xs text-info">admin@example.com</p>
              </div>
              <div class="py-1">
                <a
                  href="javascript:void(0);"
                  class="block px-4 py-2 text-sm text-dark-100 dark:text-white hover:bg-light-100 dark:hover:bg-dark-200 transition-colors"
                >
                  <i class="fas fa-user-circle mr-2 text-info"> </i>
                  个人中心
                </a>
                <a
                  href="javascript:void(0);"
                  class="block px-4 py-2 text-sm text-dark-100 dark:text-white hover:bg-light-100 dark:hover:bg-dark-200 transition-colors"
                >
                  <i class="fas fa-cog mr-2 text-info"> </i>
                  设置
                </a>
                <a
                  href="javascript:void(0);"
                  id="logout-btn"
                  class="block px-4 py-2 text-sm text-danger hover:bg-light-100 dark:hover:bg-dark-200 transition-colors"
                >
                  <i class="fas fa-sign-out-alt mr-2"> </i>
                  退出登录
                </a>
              </div>
            </div>
          </div>
        </div>
      </header>
      <div class="flex flex-1 overflow-hidden">
        <!-- 侧边栏 -->
        <aside
          id="sidebar"
          class="w-64 bg-white dark:bg-dark-100 border-r border-light-100 dark:border-dark-200 flex-shrink-0 hidden md:flex flex-col transition-all duration-300 z-20"
        >
          <!-- 侧边栏菜单 -->
          <nav class="flex-1 overflow-y-auto scrollbar-hide p-4">
            <ul class="space-y-1">
              <!-- 驾驶舱 -->
              <li>
                <a
                  href="javascript:void(0);"
                  class="flex items-center px-3 py-2 text-sm font-medium rounded-lg bg-primary/10 text-primary"
                >
                  <i class="fas fa-tachometer-alt w-5 h-5 mr-3"> </i>
                  <span> 驾驶舱 </span>
                </a>
              </li>
              <!-- 手机应用榜单 -->
              <li>
                <button
                  class="w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                >
                  <div class="flex items-center">
                    <i class="fas fa-list-ol w-5 h-5 mr-3 text-info"> </i>
                    <span> 手机应用榜单 </span>
                  </div>
                  <i
                    class="fas fa-chevron-down text-xs transition-transform duration-200"
                  >
                  </i>
                </button>
                <ul class="mt-1 ml-6 space-y-1">
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      榜单列表
                    </a>
                  </li>
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      应用对比
                    </a>
                  </li>
                </ul>
              </li>
              <!-- 数据分析 -->
              <li>
                <button
                  class="w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                >
                  <div class="flex items-center">
                    <i class="fas fa-chart-pie w-5 h-5 mr-3 text-info"> </i>
                    <span> 数据分析 </span>
                  </div>
                  <i
                    class="fas fa-chevron-down text-xs transition-transform duration-200"
                  >
                  </i>
                </button>
                <ul class="mt-1 ml-6 space-y-1 hidden">
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      总览
                    </a>
                  </li>
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      分类维度
                    </a>
                  </li>
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      地区维度
                    </a>
                  </li>
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      关键词
                    </a>
                  </li>
                </ul>
              </li>
              <!-- 数据预测 -->
              <li>
                <button
                  class="w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                >
                  <div class="flex items-center">
                    <i class="fas fa-chart-line w-5 h-5 mr-3 text-info"> </i>
                    <span> 数据预测 </span>
                  </div>
                  <i
                    class="fas fa-chevron-down text-xs transition-transform duration-200"
                  >
                  </i>
                </button>
                <ul class="mt-1 ml-6 space-y-1 hidden">
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      新建预测
                    </a>
                  </li>
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      预测记录
                    </a>
                  </li>
                </ul>
              </li>
              <!-- Hive 数据 -->
              <li>
                <button
                  class="w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                >
                  <div class="flex items-center">
                    <i class="fas fa-database w-5 h-5 mr-3 text-info"> </i>
                    <span> Hive 数据 </span>
                  </div>
                  <i
                    class="fas fa-chevron-down text-xs transition-transform duration-200"
                  >
                  </i>
                </button>
                <ul class="mt-1 ml-6 space-y-1 hidden">
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      任务中心
                    </a>
                  </li>
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      数据质量
                    </a>
                  </li>
                  <li>
                    <a
                      href="javascript:void(0);"
                      class="block px-3 py-2 text-sm rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                    >
                      分区预览
                    </a>
                  </li>
                </ul>
              </li>
              <!-- 用户管理 -->
              <li>
                <a
                  href="javascript:void(0);"
                  class="flex items-center px-3 py-2 text-sm font-medium rounded-lg hover:bg-light-100 dark:hover:bg-dark-200 text-dark-100 dark:text-white transition-colors"
                >
                  <i class="fas fa-users w-5 h-5 mr-3 text-info"> </i>
                  <span> 用户管理 </span>
                </a>
              </li>
            </ul>
          </nav>
          <!-- 侧边栏底部 -->
          <div class="p-4 border-t border-light-100 dark:border-dark-200">
            <div class="bg-light-100 dark:bg-dark-200 rounded-lg p-3">
              <div class="flex items-start">
                <i class="fas fa-info-circle text-primary mt-0.5 mr-2"> </i>
                <div>
                  <p class="text-xs text-dark-100 dark:text-white">
                    系统版本: v1.0.0
                  </p>
                  <p class="text-xs text-info mt-1">上次更新: 2023-06-15</p>
                </div>
              </div>
            </div>
          </div>
        </aside>
        <!-- 主内容区 -->
        <main
          class="flex-1 overflow-y-auto bg-light-200 dark:bg-dark-200 p-4 md:p-6 transition-colors duration-300"
        >
          <!-- 页面标题 -->
          <div class="mb-6">
            <h1
              class="text-[clamp(1.25rem,3vw,1.75rem)] font-bold text-dark-100 dark:text-white"
            >
              驾驶舱
            </h1>
            <p class="text-info mt-1">应用榜单数据分析概览</p>
          </div>
          <!-- 顶部筛选区 -->
          <div
            class="bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 mb-6 transition-colors duration-300"
          >
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div>
                <label
                  class="block text-sm font-medium text-dark-100 dark:text-white mb-2"
                >
                  日期范围
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-calendar text-info"> </i>
                  </div>
                  <input
                    type="text"
                    placeholder="最近7天"
                    class="block w-full pl-10 pr-3 py-2 border border-light-100 dark:border-dark-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200 outline-none bg-white dark:bg-dark-100 text-dark-100 dark:text-white"
                  />
                  <div
                    class="absolute inset-y-0 right-0 pr-3 flex items-center"
                  >
                    <i class="fas fa-chevron-down text-info"> </i>
                  </div>
                </div>
              </div>
              <div>
                <label
                  class="block text-sm font-medium text-dark-100 dark:text-white mb-2"
                >
                  地区
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-map-marker-alt text-info"> </i>
                  </div>
                  <select
                    class="block w-full pl-10 pr-10 py-2 border border-light-100 dark:border-dark-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200 outline-none bg-white dark:bg-dark-100 text-dark-100 dark:text-white appearance-none"
                  >
                    <option>全国</option>
                    <option>北京</option>
                    <option>上海</option>
                    <option>广州</option>
                    <option>深圳</option>
                  </select>
                  <div
                    class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-chevron-down text-info"> </i>
                  </div>
                </div>
              </div>
              <div>
                <label
                  class="block text-sm font-medium text-dark-100 dark:text-white mb-2"
                >
                  分类
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-tags text-info"> </i>
                  </div>
                  <select
                    class="block w-full pl-10 pr-10 py-2 border border-light-100 dark:border-dark-200 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200 outline-none bg-white dark:bg-dark-100 text-dark-100 dark:text-white appearance-none"
                  >
                    <option>全部分类</option>
                    <option>游戏</option>
                    <option>社交</option>
                    <option>工具</option>
                    <option>娱乐</option>
                    <option>教育</option>
                  </select>
                  <div
                    class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-chevron-down text-info"> </i>
                  </div>
                </div>
              </div>
            </div>
            <div class="mt-4 flex justify-end space-x-3">
              <button
                class="px-4 py-2 border border-light-100 dark:border-dark-200 rounded-lg text-dark-100 dark:text-white hover:bg-light-100 dark:hover:bg-dark-200 transition-colors"
              >
                重置
              </button>
              <button
                class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors"
              >
                应用筛选
              </button>
            </div>
          </div>
          <!-- KPI卡片 -->
          <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6"
          >
            <!-- 昨日采集量 -->
            <div
              class="bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-all duration-300 card-hover"
            >
              <div class="flex items-start justify-between">
                <div>
                  <p class="text-info text-sm">昨日采集量</p>
                  <h3
                    class="text-2xl font-bold text-dark-100 dark:text-white mt-1"
                  >
                    12,845
                  </h3>
                  <p class="text-success text-sm mt-2 flex items-center">
                    <i class="fas fa-arrow-up mr-1"> </i>
                    8.2%
                    <span class="text-info ml-1"> vs 前日 </span>
                  </p>
                </div>
                <div
                  class="w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-primary"
                >
                  <i class="fas fa-database"> </i>
                </div>
              </div>
            </div>
            <!-- 有效分区数 -->
            <div
              class="bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-all duration-300 card-hover"
            >
              <div class="flex items-start justify-between">
                <div>
                  <p class="text-info text-sm">有效分区数</p>
                  <h3
                    class="text-2xl font-bold text-dark-100 dark:text-white mt-1"
                  >
                    248
                  </h3>
                  <p class="text-success text-sm mt-2 flex items-center">
                    <i class="fas fa-arrow-up mr-1"> </i>
                    2.1%
                    <span class="text-info ml-1"> vs 上周 </span>
                  </p>
                </div>
                <div
                  class="w-10 h-10 rounded-lg bg-secondary/10 flex items-center justify-center text-secondary"
                >
                  <i class="fas fa-cubes"> </i>
                </div>
              </div>
            </div>
            <!-- Top1 应用 -->
            <div
              class="bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-all duration-300 card-hover"
            >
              <div class="flex items-start justify-between">
                <div>
                  <p class="text-info text-sm">Top1 应用</p>
                  <h3
                    class="text-lg font-bold text-dark-100 dark:text-white mt-1"
                  >
                    手机应用市场
                  </h3>
                  <p class="text-info text-sm mt-2">工具类 · 评分 4.8</p>
                </div>
                <div
                  class="w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center text-success"
                >
                  <i class="fas fa-trophy"> </i>
                </div>
              </div>
            </div>
            <!-- Top 类目 -->
            <div
              class="bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-all duration-300 card-hover"
            >
              <div class="flex items-start justify-between">
                <div>
                  <p class="text-info text-sm">Top 类目</p>
                  <h3
                    class="text-lg font-bold text-dark-100 dark:text-white mt-1"
                  >
                    游戏
                  </h3>
                  <p class="text-info text-sm mt-2">占比 32.5% · 128款应用</p>
                </div>
                <div
                  class="w-10 h-10 rounded-lg bg-warning/10 flex items-center justify-center text-warning"
                >
                  <i class="fas fa-gamepad"> </i>
                </div>
              </div>
            </div>
            <!-- 预测覆盖率 -->
            <div
              class="bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-all duration-300 card-hover"
            >
              <div class="flex items-start justify-between">
                <div>
                  <p class="text-info text-sm">预测覆盖率</p>
                  <h3
                    class="text-2xl font-bold text-dark-100 dark:text-white mt-1"
                  >
                    89.7%
                  </h3>
                  <p class="text-danger text-sm mt-2 flex items-center">
                    <i class="fas fa-arrow-down mr-1"> </i>
                    1.3%
                    <span class="text-info ml-1"> vs 上周 </span>
                  </p>
                </div>
                <div
                  class="w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-primary"
                >
                  <i class="fas fa-chart-line"> </i>
                </div>
              </div>
            </div>
            <!-- 任务成功率 -->
            <div
              class="bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-all duration-300 card-hover"
            >
              <div class="flex items-start justify-between">
                <div>
                  <p class="text-info text-sm">任务成功率</p>
                  <h3
                    class="text-2xl font-bold text-dark-100 dark:text-white mt-1"
                  >
                    96.2%
                  </h3>
                  <p class="text-success text-sm mt-2 flex items-center">
                    <i class="fas fa-arrow-up mr-1"> </i>
                    0.8%
                    <span class="text-info ml-1"> vs 上周 </span>
                  </p>
                </div>
                <div
                  class="w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center text-success"
                >
                  <i class="fas fa-check-circle"> </i>
                </div>
              </div>
            </div>
          </div>
          <!-- 图表区域 -->
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
            <!-- Top N 应用排名趋势折线图 -->
            <div
              class="lg:col-span-2 bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-colors duration-300"
            >
              <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold text-dark-100 dark:text-white">
                  Top N 应用排名趋势
                </h3>
                <div class="flex space-x-2">
                  <button
                    class="px-3 py-1 text-xs bg-primary/10 text-primary rounded-lg"
                  >
                    7天
                  </button>
                  <button
                    class="px-3 py-1 text-xs text-dark-100 dark:text-white hover:bg-light-100 dark:hover:bg-dark-200 rounded-lg transition-colors"
                  >
                    30天
                  </button>
                  <button
                    class="p-1 text-info hover:text-dark-100 dark:hover:text-white transition-colors"
                  >
                    <i class="fas fa-expand"> </i>
                  </button>
                  <button
                    class="p-1 text-info hover:text-dark-100 dark:hover:text-white transition-colors"
                  >
                    <i class="fas fa-download"> </i>
                  </button>
                </div>
              </div>
              <div id="trend-chart" class="w-full h-80"></div>
            </div>
            <!-- 分类占比饼图 -->
            <div
              class="bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-colors duration-300"
            >
              <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold text-dark-100 dark:text-white">
                  分类占比
                </h3>
                <div class="flex space-x-2">
                  <button
                    class="p-1 text-info hover:text-dark-100 dark:hover:text-white transition-colors"
                  >
                    <i class="fas fa-expand"> </i>
                  </button>
                  <button
                    class="p-1 text-info hover:text-dark-100 dark:hover:text-white transition-colors"
                  >
                    <i class="fas fa-download"> </i>
                  </button>
                </div>
              </div>
              <div id="category-chart" class="w-full h-80"></div>
            </div>
          </div>
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
            <!-- 地区热力图 -->
            <div
              class="lg:col-span-2 bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-colors duration-300"
            >
              <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold text-dark-100 dark:text-white">
                  地区分布热力图
                </h3>
                <div class="flex space-x-2">
                  <button
                    class="p-1 text-info hover:text-dark-100 dark:hover:text-white transition-colors"
                  >
                    <i class="fas fa-expand"> </i>
                  </button>
                  <button
                    class="p-1 text-info hover:text-dark-100 dark:hover:text-white transition-colors"
                  >
                    <i class="fas fa-download"> </i>
                  </button>
                </div>
              </div>
              <div id="region-chart" class="w-full h-80"></div>
            </div>
            <!-- 实时流 -->
            <div
              class="bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-colors duration-300 flex flex-col"
            >
              <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold text-dark-100 dark:text-white">
                  实时任务与告警
                </h3>
                <div class="flex space-x-2">
                  <button
                    class="p-1 text-info hover:text-dark-100 dark:hover:text-white transition-colors"
                  >
                    <i class="fas fa-sync-alt"> </i>
                  </button>
                </div>
              </div>
              <div class="flex-1 overflow-y-auto scrollbar-hide space-y-3">
                <!-- 实时项 -->
                <div
                  class="p-3 bg-success/5 dark:bg-success/10 border border-success/20 rounded-lg"
                >
                  <div class="flex items-start">
                    <div
                      class="flex-shrink-0 w-8 h-8 rounded-full bg-success/10 flex items-center justify-center text-success"
                    >
                      <i class="fas fa-check-circle"> </i>
                    </div>
                    <div class="ml-3 flex-1">
                      <p class="text-sm text-dark-100 dark:text-white">
                        数据采集任务完成
                      </p>
                      <p class="text-xs text-info mt-1">
                        应用榜单数据采集任务 #T20230615 已完成
                      </p>
                      <p class="text-xs text-info mt-1">刚刚</p>
                    </div>
                  </div>
                </div>
                <div
                  class="p-3 bg-warning/5 dark:bg-warning/10 border border-warning/20 rounded-lg"
                >
                  <div class="flex items-start">
                    <div
                      class="flex-shrink-0 w-8 h-8 rounded-full bg-warning/10 flex items-center justify-center text-warning"
                    >
                      <i class="fas fa-exclamation-triangle"> </i>
                    </div>
                    <div class="ml-3 flex-1">
                      <p class="text-sm text-dark-100 dark:text-white">
                        数据延迟警告
                      </p>
                      <p class="text-xs text-info mt-1">
                        地区维度分析数据更新延迟超过30分钟
                      </p>
                      <p class="text-xs text-info mt-1">5分钟前</p>
                    </div>
                  </div>
                </div>
                <div
                  class="p-3 bg-primary/5 dark:bg-primary/10 border border-primary/20 rounded-lg"
                >
                  <div class="flex items-start">
                    <div
                      class="flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary"
                    >
                      <i class="fas fa-info-circle"> </i>
                    </div>
                    <div class="ml-3 flex-1">
                      <p class="text-sm text-dark-100 dark:text-white">
                        预测任务开始
                      </p>
                      <p class="text-xs text-info mt-1">
                        应用排名预测任务 #P20230615 已开始执行
                      </p>
                      <p class="text-xs text-info mt-1">12分钟前</p>
                    </div>
                  </div>
                </div>
                <div
                  class="p-3 bg-danger/5 dark:bg-danger/10 border border-danger/20 rounded-lg"
                >
                  <div class="flex items-start">
                    <div
                      class="flex-shrink-0 w-8 h-8 rounded-full bg-danger/10 flex items-center justify-center text-danger"
                    >
                      <i class="fas fa-exclamation-circle"> </i>
                    </div>
                    <div class="ml-3 flex-1">
                      <p class="text-sm text-dark-100 dark:text-white">
                        数据清洗失败
                      </p>
                      <p class="text-xs text-info mt-1">
                        应用评论数据清洗任务 #C20230615 执行失败
                      </p>
                      <p class="text-xs text-info mt-1">25分钟前</p>
                    </div>
                  </div>
                </div>
                <div
                  class="p-3 bg-primary/5 dark:bg-primary/10 border border-primary/20 rounded-lg"
                >
                  <div class="flex items-start">
                    <div
                      class="flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary"
                    >
                      <i class="fas fa-info-circle"> </i>
                    </div>
                    <div class="ml-3 flex-1">
                      <p class="text-sm text-dark-100 dark:text-white">
                        数据同步完成
                      </p>
                      <p class="text-xs text-info mt-1">
                        与手机应用市场API数据同步完成
                      </p>
                      <p class="text-xs text-info mt-1">40分钟前</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- 任务运行状态 -->
          <div
            class="bg-white dark:bg-dark-100 rounded-xl shadow-card p-4 transition-colors duration-300 mb-6"
          >
            <div class="flex justify-between items-center mb-4">
              <h3 class="font-semibold text-dark-100 dark:text-white">
                任务运行状态
              </h3>
              <div class="flex space-x-2">
                <button
                  class="p-1 text-info hover:text-dark-100 dark:hover:text-white transition-colors"
                >
                  <i class="fas fa-expand"> </i>
                </button>
                <button
                  class="p-1 text-info hover:text-dark-100 dark:hover:text-white transition-colors"
                >
                  <i class="fas fa-download"> </i>
                </button>
              </div>
            </div>
            <div id="task-chart" class="w-full h-80"></div>
          </div>
        </main>
      </div>
    </div>
    <!-- JavaScript -->
    <script>
      // 页面加载时初始化
              document.addEventListener('DOMContentLoaded', () => {
                  // 登录表单密码显示/隐藏切换
                  const togglePassword = document.getElementById('toggle-password');
                  const passwordInput = document.getElementById('password');

                  togglePassword.addEventListener('click', () => {
                      const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                      passwordInput.setAttribute('type', type);

                      // 切换图标
                      const icon = togglePassword.querySelector('i');
                      if (type === 'password') {
                          icon.classList.remove('fa-eye');
                          icon.classList.add('fa-eye-slash');
                      } else {
                          icon.classList.remove('fa-eye-slash');
                          icon.classList.add('fa-eye');
                      }
                  });

                  // 注册表单密码显示/隐藏切换
                  const toggleRegPassword = document.getElementById('toggle-reg-password');
                  const regPasswordInput = document.getElementById('reg-password');

                  toggleRegPassword.addEventListener('click', () => {
                      const type = regPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                      regPasswordInput.setAttribute('type', type);

                      // 切换图标
                      const icon = toggleRegPassword.querySelector('i');
                      if (type === 'password') {
                          icon.classList.remove('fa-eye');
                          icon.classList.add('fa-eye-slash');
                      } else {
                          icon.classList.remove('fa-eye-slash');
                          icon.classList.add('fa-eye');
                      }
                  });

                  // 注册表单确认密码显示/隐藏切换
                  const toggleRegConfirmPassword = document.getElementById('toggle-reg-confirm-password');
                  const regConfirmPasswordInput = document.getElementById('reg-confirm-password');

                  toggleRegConfirmPassword.addEventListener('click', () => {
                      const type = regConfirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                      regConfirmPasswordInput.setAttribute('type', type);

                      // 切换图标
                      const icon = toggleRegConfirmPassword.querySelector('i');
                      if (type === 'password') {
                          icon.classList.remove('fa-eye');
                          icon.classList.add('fa-eye-slash');
                      } else {
                          icon.classList.remove('fa-eye-slash');
                          icon.classList.add('fa-eye');
                      }
                  });

                  // 登录/注册页面切换
                  const gotoRegisterBtn = document.getElementById('goto-register');
                  const gotoLoginBtn = document.getElementById('goto-login');
                  const loginPage = document.getElementById('login-page');
                  const registerPage = document.getElementById('register-page');

                  gotoRegisterBtn.addEventListener('click', () => {
                      loginPage.classList.add('hidden');
                      registerPage.classList.remove('hidden');
                  });

                  gotoLoginBtn.addEventListener('click', () => {
                      registerPage.classList.add('hidden');
                      loginPage.classList.remove('hidden');
                  });

                  // 登录表单提交
                  const loginForm = document.getElementById('login-form');

                  loginForm.addEventListener('submit', (e) => {
                      e.preventDefault();
                      // 模拟登录成功，跳转到驾驶舱
                      loginPage.classList.add('hidden');
                      document.getElementById('app-layout').classList.remove('hidden');

                      // 初始化图表
                      initCharts();
                  });

                  // 注册表单提交
                  const registerForm = document.getElementById('register-form');

                  registerForm.addEventListener('submit', (e) => {
                      e.preventDefault();
                      // 模拟注册成功，跳转到登录页
                      registerPage.classList.add('hidden');
                      loginPage.classList.remove('hidden');
                  });

                  // 主题切换
                  const themeToggle = document.getElementById('theme-toggle');
                  const htmlElement = document.documentElement;

                  themeToggle.addEventListener('click', () => {
                      if (htmlElement.classList.contains('dark')) {
                          // 切换到浅色主题
                          htmlElement.classList.remove('dark');
                          themeToggle.innerHTML = `

      <i class="fas fa-moon text-dark-100">
      </i>

      `;
                      } else {
                          // 切换到深色主题
                          htmlElement.classList.add('dark');
                          themeToggle.innerHTML = `

      <i class="fas fa-sun text-white">
      </i>

      `;
                      }
                  });

                  // 通知下拉菜单
                  const notificationBtn = document.getElementById('notification-btn');
                  const notificationDropdown = document.getElementById('notification-dropdown');

                  notificationBtn.addEventListener('click', () => {
                      notificationDropdown.classList.toggle('hidden');
                      userDropdown.classList.add('hidden');
                  });

                  // 用户下拉菜单
                  const userMenuBtn = document.getElementById('user-menu-btn');
                  const userDropdown = document.getElementById('user-dropdown');

                  userMenuBtn.addEventListener('click', () => {
                      userDropdown.classList.toggle('hidden');
                      notificationDropdown.classList.add('hidden');
                  });

                  // 点击页面其他地方关闭下拉菜单
                  document.addEventListener('click', (e) => {
                      if (!notificationBtn.contains(e.target) && !notificationDropdown.contains(e.target)) {
                          notificationDropdown.classList.add('hidden');
                      }

                      if (!userMenuBtn.contains(e.target) && !userDropdown.contains(e.target)) {
                          userDropdown.classList.add('hidden');
                      }
                  });

                  // 侧边栏切换
                  const sidebarToggle = document.getElementById('sidebar-toggle');
                  const sidebar = document.getElementById('sidebar');

                  sidebarToggle.addEventListener('click', () => {
                      sidebar.classList.toggle('hidden');
                  });

                  // 退出登录
                  const logoutBtn = document.getElementById('logout-btn');

                  logoutBtn.addEventListener('click', () => {
                      document.getElementById('app-layout').classList.add('hidden');
                      loginPage.classList.remove('hidden');
                  });

                  // 初始化图表
                  function initCharts() {
                      // Top N 应用排名趋势折线图
                      const trendChart = echarts.init(document.getElementById('trend-chart'));

                      const trendOption = {
                          tooltip: {
                              trigger: 'axis',
                              axisPointer: {
                                  type: 'cross',
                                  label: {
                                      backgroundColor: '#6a7985'
                                  }
                              }
                          },
                          legend: {
                              data: ['手机应用市场', '微信', '抖音', '支付宝', '淘宝'],
                              top: 0
                          },
                          grid: {
                              left: '3%',
                              right: '4%',
                              bottom: '3%',
                              containLabel: true
                          },
                          xAxis: [
                              {
                                  type: 'category',
                                  boundaryGap: false,
                                  data: ['6/10', '6/11', '6/12', '6/13', '6/14', '6/15', '6/16']
                              }
                          ],
                          yAxis: [
                              {
                                  type: 'value',
                                  axisLabel: {
                                      formatter: '{value}'
                                  },
                                  max: 20,
                                  inverse: true  // 排名是越小越靠前，所以Y轴需要反转
                              }
                          ],
                          series: [
                              {
                                  name: '手机应用市场',
                                  type: 'line',
                                  stack: 'Total',
                                  areaStyle: {},
                                  emphasis: {
                                      focus: 'series'
                                  },
                                  data: [1, 1, 1, 1, 1, 1, 1]
                              },
                              {
                                  name: '微信',
                                  type: 'line',
                                  stack: 'Total',
                                  areaStyle: {},
                                  emphasis: {
                                      focus: 'series'
                                  },
                                  data: [2, 2, 3, 2, 2, 2, 2]
                              },
                              {
                                  name: '抖音',
                                  type: 'line',
                                  stack: 'Total',
                                  areaStyle: {},
                                  emphasis: {
                                      focus: 'series'
                                  },
                                  data: [3, 3, 2, 3, 3, 3, 3]
                              },
                              {
                                  name: '支付宝',
                                  type: 'line',
                                  stack: 'Total',
                                  areaStyle: {},
                                  emphasis: {
                                      focus: 'series'
                                  },
                                  data: [4, 4, 4, 4, 5, 4, 4]
                              },
                              {
                                  name: '淘宝',
                                  type: 'line',
                                  stack: 'Total',
                                  areaStyle: {},
                                  emphasis: {
                                      focus: 'series'
                                  },
                                  data: [5, 5, 5, 5, 4, 5, 5]
                              }
                          ]
                      };

                      trendChart.setOption(trendOption);

                      // 分类占比饼图
                      const categoryChart = echarts.init(document.getElementById('category-chart'));

                      const categoryOption = {
                          tooltip: {
                              trigger: 'item'
                          },
                          legend: {
                              orient: 'vertical',
                              left: 'left',
                              textStyle: {
                                  color: document.documentElement.classList.contains('dark') ? '#fff' : '#1D2129'
                              }
                          },
                          series: [
                              {
                                  name: '分类占比',
                                  type: 'pie',
                                  radius: ['40%', '70%'],
                                  avoidLabelOverlap: false,
                                  itemStyle: {
                                      borderRadius: 10,
                                      borderColor: document.documentElement.classList.contains('dark') ? '#1D2129' : '#fff',
                                      borderWidth: 2
                                  },
                                  label: {
                                      show: false,
                                      position: 'center'
                                  },
                                  emphasis: {
                                      label: {
                                          show: true,
                                          fontSize: 16,
                                          fontWeight: 'bold'
                                      }
                                  },
                                  labelLine: {
                                      show: false
                                  },
                                  data: [
                                      { value: 325, name: '游戏' },
                                      { value: 244, name: '社交' },
                                      { value: 188, name: '工具' },
                                      { value: 155, name: '娱乐' },
                                      { value: 102, name: '教育' },
                                      { value: 85, name: '其他' }
                                  ]
                              }
                          ]
                      };

                      categoryChart.setOption(categoryOption);

                      // 地区分布热力图
                      const regionChart = echarts.init(document.getElementById('region-chart'));

                      const regionOption = {
                          tooltip: {
                              trigger: 'item'
                          },
                          legend: {
                              orient: 'horizontal',
                              bottom: '0%',
                              textStyle: {
                                  color: document.documentElement.classList.contains('dark') ? '#fff' : '#1D2129'
                              }
                          },
                          visualMap: {
                              min: 0,
                              max: 200,
                              left: 'left',
                              top: 'bottom',
                              text: ['高', '低'],
                              calculable: true,
                              textStyle: {
                                  color: document.documentElement.classList.contains('dark') ? '#fff' : '#1D2129'
                              }
                          },
                          series: [
                              {
                                  name: '应用数量',
                                  type: 'map',
                                  mapType: 'china',
                                  roam: false,
                                  label: {
                                      show: true,
                                      color: document.documentElement.classList.contains('dark') ? '#fff' : '#1D2129'
                                  },
                                  emphasis: {
                                      label: {
                                          show: true
                                      }
                                  },
                                  data: [
                                      { name: '北京', value: 150 },
                                      { name: '天津', value: 80 },
                                      { name: '上海', value: 180 },
                                      { name: '重庆', value: 90 },
                                      { name: '河北', value: 70 },
                                      { name: '河南', value: 65 },
                                      { name: '云南', value: 50 },
                                      { name: '辽宁', value: 60 },
                                      { name: '黑龙江', value: 45 },
                                      { name: '湖南', value: 75 },
                                      { name: '安徽', value: 60 },
                                      { name: '山东', value: 90 },
                                      { name: '新疆', value: 40 },
                                      { name: '江苏', value: 120 },
                                      { name: '浙江', value: 130 },
                                      { name: '江西', value: 55 },
                                      { name: '湖北', value: 85 },
                                      { name: '广西', value: 50 },
                                      { name: '甘肃', value: 40 },
                                      { name: '山西', value: 50 },
                                      { name: '内蒙古', value: 35 },
                                      { name: '陕西', value: 70 },
                                      { name: '吉林', value: 45 },
                                      { name: '福建', value: 95 },
                                      { name: '贵州', value: 45 },
                                      { name: '广东', value: 170 },
                                      { name: '青海', value: 30 },
                                      { name: '西藏', value: 25 },
                                      { name: '四川', value: 100 },
                                      { name: '宁夏', value: 35 },
                                      { name: '海南', value: 40 },
                                      { name: '台湾', value: 50 },
                                      { name: '香港', value: 60 },
                                      { name: '澳门', value: 30 }
                                  ]
                              }
                          ]
                      };

                      regionChart.setOption(regionOption);

                      // 任务运行状态甘特图
                      const taskChart = echarts.init(document.getElementById('task-chart'));

                      const taskOption = {
                          tooltip: {
                              formatter: function (params) {
                                  return params.data.name + '<br/>开始: ' + params.data.start + '<br/>结束: ' + params.data.end;
                              }
                          },
                          grid: {
                              left: '10%',
                              right: '10%',
                              bottom: '15%'
                          },
                          xAxis: {
                              type: 'time',
                              axisLabel: {
                                  color: document.documentElement.classList.contains('dark') ? '#fff' : '#1D2129'
                              }
                          },
                          yAxis: {
                              type: 'category',
                              data: ['数据采集', '数据清洗', '数据分析', '数据预测', '报表生成'],
                              axisLabel: {
                                  color: document.documentElement.classList.contains('dark') ? '#fff' : '#1D2129'
                              }
                          },
                          series: [
                              {
                                  type: 'bar',
                                  data: [
                                      {
                                          name: '数据采集',
                                          value: [
                                              new Date('2023-06-15 08:00').getTime(),
                                              new Date('2023-06-15 09:30').getTime(),
                                              0
                                          ],
                                          itemStyle: {
                                              color: '#00B42A'
                                          }
                                      },
                                      {
                                          name: '数据清洗',
                                          value: [
                                              new Date('2023-06-15 09:30').getTime(),
                                              new Date('2023-06-15 10:45').getTime(),
                                              1
                                          ],
                                          itemStyle: {
                                              color: '#00B42A'
                                          }
                                      },
                                      {
                                          name: '数据分析',
                                          value: [
                                              new Date('2023-06-15 10:45').getTime(),
                                              new Date('2023-06-15 12:30').getTime(),
                                              2
                                          ],
                                          itemStyle: {
                                              color: '#00B42A'
                                          }
                                      },
                                      {
                                          name: '数据预测',
                                          value: [
                                              new Date('2023-06-15 12:30').getTime(),
                                              new Date('2023-06-15 14:15').getTime(),
                                              3
                                          ],
                                          itemStyle: {
                                              color: '#FF7D00'
                                          }
                                      },
                                      {
                                          name: '报表生成',
                                          value: [
                                              new Date('2023-06-15 14:15').getTime(),
                                              new Date('2023-06-15 15:00').getTime(),
                                              4
                                          ],
                                          itemStyle: {
                                              color: '#165DFF'
                                          }
                                      }
                                  ],
                                  coordinateSystem: 'cartesian2d',
                                  barWidth: 20,
                                  label: {
                                      show: true,
                                      position: 'inside',
                                      formatter: function(params) {
                                          const start = new Date(params.data.value[0]).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
      const end = new Date(params.data.value[1]).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});                                    return `${start} - ${end}`;
                                      },
                                      color: '#fff'
                                  }
                              }
                          ]
                      };

                      taskChart.setOption(taskOption);

                      // 处理窗口大小变化时重绘图表
                      window.addEventListener('resize', () => {
                          trendChart.resize();
                          categoryChart.resize();
                          regionChart.resize();
                          taskChart.resize();
                      });

                      // 主题切换时更新图表颜色
                      themeToggle.addEventListener('click', () => {
                          const isDark = document.documentElement.classList.contains('dark');

                          // 更新分类占比饼图
                          categoryOption.legend.textStyle.color = isDark ? '#fff' : '#1D2129';
                          categoryOption.series[0].itemStyle.borderColor = isDark ? '#1D2129' : '#fff';
                          categoryChart.setOption(categoryOption);

                          // 更新地区分布热力图
                          regionOption.legend.textStyle.color = isDark ? '#fff' : '#1D2129';
                          regionOption.visualMap.textStyle.color = isDark ? '#fff' : '#1D2129';
                          regionOption.series[0].label.color = isDark ? '#fff' : '#1D2129';
                          regionChart.setOption(regionOption);

                          // 更新任务运行状态图
                          taskOption.yAxis.axisLabel.color = isDark ? '#fff' : '#1D2129';
                          taskOption.xAxis.axisLabel.color = isDark ? '#fff' : '#1D2129';
                          taskChart.setOption(taskOption);
                      });
                  }

                  // 侧边栏菜单折叠/展开
                  const menuItems = document.querySelectorAll('aside nav ul li button');

                  menuItems.forEach(item => {
                      item.addEventListener('click', () => {
                          const subMenu = item.nextElementSibling;
                          const icon = item.querySelector('.fa-chevron-down');

                          if (subMenu) {
                              subMenu.classList.toggle('hidden');
                              icon.classList.toggle('rotate-180');
                          }
                      });
                  });
              });
    </script>
  </body>
</html>
